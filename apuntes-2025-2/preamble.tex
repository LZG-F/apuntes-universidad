\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{textcomp}

\usepackage{url}

% \usepackage{hyperref}
% \hypersetup{
%     colorlinks,
%     linkcolor={black},
%     citecolor={black},
%     urlcolor={blue!80!black}
% }

\usepackage{graphicx}
\usepackage{float}
\usepackage[usenames,dvipsnames]{xcolor}

% \usepackage{cmbright}

\usepackage{amsmath, amsfonts, mathtools, amsthm, amssymb}
\usepackage{mathrsfs}
\usepackage{cancel}

\newcommand\N{\ensuremath{\mathbb{N}}}
\newcommand\R{\ensuremath{\mathbb{R}}}
\newcommand\Z{\ensuremath{\mathbb{Z}}}
\renewcommand\O{\ensuremath{\emptyset}}
\newcommand\Q{\ensuremath{\mathbb{Q}}}
\newcommand\C{\ensuremath{\mathbb{C}}}
\let\implies\Rightarrow
\let\impliedby\Leftarrow
\let\iff\Leftrightarrow
\let\epsilon\varepsilon

%MIS AGREGADOS

\newcommand{\bigcupd}{\mathop{\ensurestackMath{\stackinset{l}{}{c}{+.25ex}{\hspace{3pt}{\text{\tiny{D}}}}{\displaystyle{\bigcup}}}}}

\newcommand{\textbigcupd}{\mathop{\ensurestackMath{\stackinset{l}{}{c}{+.15ex}{\hspace{1.7pt}{\text{\tiny{D}}}}{\bigcup}}}}

\newcommand{\cupd}{\mathop{\ensurestackMath{\stackinset{l}{}{c}{+.25ex}{\hspace{1.4pt}{\text{\tiny{d}}}}{\cup}}}}

\usepackage{stackengine,scalerel}

\usepackage[normalem]{ulem}

\usepackage{dsfont}

% demostraciones bidireccionales

\newcommand{\Onlyifstep}{%
	\begingroup
	\fboxsep=1pt
	\raisebox{1.2ex}{\fbox{\raisebox{-1.2ex}{$\Rightarrow$\hspace{-0.05em}}}}%
	\endgroup
	\hspace{0.5em}%
	}
\newcommand{\Ifstep}{%
	\begingroup
	\fboxsep=1pt
	\raisebox{1.2ex}{\fbox{\raisebox{-1.2ex}{\hspace{-0.05ex}$\Leftarrow$}}}%
	\endgroup
	\hspace{0.5em}%
	}

\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{calc, tikzmark}

%MIS AGREGADOS

% horizontal rule
\newcommand\hr{
    \noindent\rule[0.5ex]{\linewidth}{0.5pt}
}

%\usepackage{tikz}
%\usepackage{tikz-cd}

% theorems
\usepackage{thmtools}
\usepackage[framemethod=TikZ]{mdframed}
\mdfsetup{skipabove=1em,skipbelow=0em}
%, innertopmargin=5pt, innerbottommargin=6pt}

\theoremstyle{definition}

\makeatletter

%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{ForestGreen!70!black}, bodyfont=\normalfont, 
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=ForestGreen, backgroundcolor=ForestGreen!5
%	}
%]{thmgreenbox}
%
%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{NavyBlue!70!black}, bodyfont=\normalfont, 
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=NavyBlue, backgroundcolor=NavyBlue!5
%	}
%]{thmbluebox}
%
%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{NavyBlue!70!black}, bodyfont=\normalfont, 
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=NavyBlue
%	}
%]{thmblueline}
%
%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{RawSienna!70!black}, bodyfont=\normalfont, 
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=RawSienna, backgroundcolor=RawSienna!5
%	}
%]{thmredbox}
%
%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{RawSienna!70!black}, bodyfont=\normalfont, numbered=no,
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=RawSienna, backgroundcolor=RawSienna!1
%	},
%	qed=\qedsymbol
%]{thmproofbox}
%
%\declaretheoremstyle[
%	headfont=\bfseries\sffamily\color{NavyBlue!70!black}, bodyfont=\normalfont, numbered=no,
%	mdframed={ 
%		linewidth=2pt,
%		rightline=false, topline=false, bottomline=false,
%		linecolor=NavyBlue, backgroundcolor=NavyBlue!1
%	}
%]{thmexplanationbox}





\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, mdframed={ nobreak } ]{thmgreenbox}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, mdframed={ nobreak } ]{thmredbox}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont]{thmbluebox}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont]{thmblueline}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, numbered=no, mdframed={ rightline=false, topline=false, bottomline=false, }, qed=\qedsymbol ]{thmproofbox}
\declaretheoremstyle[headfont=\bfseries\sffamily, bodyfont=\normalfont, numbered=no, mdframed={ nobreak, rightline=false, topline=false, bottomline=false } ]{thmexplanationbox}


\declaretheorem[numberwithin=chapter, style=thmgreenbox, name=Definición]{definition}
\declaretheorem[sibling=definition, style=thmredbox, name=Corolario]{corollary}
\declaretheorem[sibling=definition, style=thmredbox, name=Proposición]{prop}
\declaretheorem[sibling=definition, style=thmredbox, name=Teorema]{theorem}
\declaretheorem[sibling=definition, style=thmredbox, name=Lema]{lemma}
%AGREGADO
\declaretheorem[sibling=definition, style=thmredbox, name=Criterio]{criterio}
%AGREGADO



\declaretheorem[numbered=no, style=thmexplanationbox, name=Demostración]{explanation}
\declaretheorem[numbered=no, style=thmproofbox, name=Demostración]{replacementproof}
\declaretheorem[style=thmbluebox,  numbered=no, name=Ejercicio]{ex}
\declaretheorem[style=thmbluebox,  numbered=no, name=Ejemplo]{eg}
\declaretheorem[style=thmblueline, numbered=no, name=Observación]{remark}
\declaretheorem[style=thmblueline, numbered=no, name=Nota]{note}

\renewenvironment{proof}[1][\proofname]{\begin{replacementproof}}{\end{replacementproof}}

%\AtEndEnvironment{eg}{\null\hfill$\diamond$}%

\newtheorem*{uovt}{UOVT}
\newtheorem*{notation}{Notación}
\newtheorem*{previouslyseen}{As previously seen}
\newtheorem*{problem}{Problema}
\newtheorem*{observe}{Observar}
\newtheorem*{property}{Propiedad}
\newtheorem*{intuition}{Intuición}


\usepackage{etoolbox}
\AtEndEnvironment{vb}{\null\hfill$\diamond$}%
\AtEndEnvironment{intermezzo}{\null\hfill$\diamond$}%




% http://tex.stackexchange.com/questions/22119/how-can-i-change-the-spacing-before-theorems-with-amsthm
% \def\thm@space@setup{%
%   \thm@preskip=\parskip \thm@postskip=0pt
% }

\usepackage{xifthen}

\def\testdateparts#1{\dateparts#1\relax}
\def\dateparts#1 #2 #3\relax{
    \marginpar{\small\textsf{\mbox{#1 #2 #3}}}
}

\def\@lesson{}%
\newcommand{\clase}[3]{
    \ifthenelse{\isempty{#3}}{%
        \def\@lesson{Clase #1}%
    }{%
        \def\@lesson{Clase #1: #3}%
    }%
    \subsection*{\@lesson}
    \testdateparts{#2}
}

% fancy headers
\usepackage{fancyhdr}
\pagestyle{fancy}

% \fancyhead[LE,RO]{Gilles Castel}
\fancyhead[RO,LE]{\@lesson}
\fancyhead[RE,LO]{}
\fancyfoot[LE,RO]{\thepage}
\fancyfoot[C]{\leftmark}

\makeatother

% figure support (https://castel.dev/post/lecture-notes-2)
\usepackage{import}
\usepackage{xifthen}
\pdfminorversion=7
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}

% %http://tex.stackexchange.com/questions/76273/multiple-pdfs-with-page-group-included-in-a-single-page-warning
\pdfsuppresswarningpagegroup=1

\author{Gilles Castel}
